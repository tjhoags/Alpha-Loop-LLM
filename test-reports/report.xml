<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="10" skipped="0" tests="75" time="8.164" timestamp="2025-12-10T00:13:30.111958-05:00" hostname="Tom-ALC"><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_base_import" time="0.099" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_tier_enum" time="0.000" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_status_enum" time="0.000" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_thinking_modes" time="0.000" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_learning_methods" time="0.000" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_concrete_agent_creation" time="0.840" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_execute_method" time="0.001" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_stats" time="0.001" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_agent_learning_outcome" time="0.001" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_regime_detection" time="0.001" /><testcase classname="tests.test_agents.TestBaseAgent" name="test_capability_gap_detection" time="0.001" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_data_agent_import" time="0.287" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_strategy_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_risk_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_execution_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_portfolio_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_research_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_compliance_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSeniorAgents" name="test_sentiment_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestMasterAgents" name="test_ghost_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestMasterAgents" name="test_hoags_agent_import" time="0.000" /><testcase classname="tests.test_agents.TestSwarmAgents" name="test_swarm_factory_import" time="0.000" /><testcase classname="tests.test_agents.TestSwarmAgents" name="test_swarm_factory_creation" time="0.000" /><testcase classname="tests.test_agents.TestSwarmAgents" name="test_total_agents_constant" time="0.000" /><testcase classname="tests.test_agents.TestAgentInteraction" name="test_agent_can_handle_task" time="0.001" /><testcase classname="tests.test_agents.TestAgentInteraction" name="test_agent_proposal" time="0.001" /><testcase classname="tests.test_agents.TestAgentResilience" name="test_agent_error_recovery" time="0.002" /><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_backtest_engine_import" time="4.207" /><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_backtest_engine_initialization" time="0.006" /><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_run_backtest" time="0.005"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestEngine object at 0x00000140F0E71810&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]
sample_signals = 2024-01-01    0
2024-01-02    0
2024-01-03    0
2024-01-04    0
2024-01-05    0
             ..
2024-09-04    0
2024-09-05    0
2024-09-06    0
2024-09-07    0
2024-09-08    0
Freq: D, Length: 252, dtype: int64

    def test_run_backtest(self, sample_price_data, sample_signals):
        """Test running a backtest."""
        from src.backtesting.backtest_engine import BacktestEngine
    
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0.001
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:99: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_performance_metrics" time="0.003"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestEngine object at 0x00000140F0E72010&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]
sample_signals = 2024-01-01    0
2024-01-02    0
2024-01-03    0
2024-01-04    0
2024-01-05    0
             ..
2024-09-04    0
2024-09-05    0
2024-09-06    0
2024-09-07    0
2024-09-08    0
Freq: D, Length: 252, dtype: int64

    def test_performance_metrics(self, sample_price_data, sample_signals):
        """Test performance metric calculations."""
        from src.backtesting.backtest_engine import BacktestEngine
    
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0.001
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:114: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_sharpe_ratio_calculation" time="0.001" /><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_max_drawdown_calculation" time="0.001" /><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_trade_tracking" time="0.003"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestEngine object at 0x00000140F0E72C90&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]
sample_signals = 2024-01-01    0
2024-01-02    0
2024-01-03    0
2024-01-04    0
2024-01-05    0
             ..
2024-09-04    0
2024-09-05    0
2024-09-06    0
2024-09-07    0
2024-09-08    0
Freq: D, Length: 252, dtype: int64

    def test_trade_tracking(self, sample_price_data, sample_signals):
        """Test that trades are properly tracked."""
        from src.backtesting.backtest_engine import BacktestEngine
    
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0.001
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:167: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_position_sizing" time="0.003"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestEngine object at 0x00000140F0E73110&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]

    def test_position_sizing(self, sample_price_data):
        """Test position sizing logic."""
        from src.backtesting.backtest_engine import BacktestEngine
    
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0.001,
            position_size=0.1  # 10% position size
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:188: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestEngine" name="test_commission_impact" time="0.003"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestEngine object at 0x00000140F0E73810&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]
sample_signals = 2024-01-01    0
2024-01-02    0
2024-01-03    0
2024-01-04    0
2024-01-05    0
             ..
2024-09-04    0
2024-09-05    0
2024-09-06    0
2024-09-07    0
2024-09-08    0
Freq: D, Length: 252, dtype: int64

    def test_commission_impact(self, sample_price_data, sample_signals):
        """Test that commissions properly reduce returns."""
        from src.backtesting.backtest_engine import BacktestEngine
    
        # Run with no commission
&gt;       engine_no_comm = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:202: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestResults" name="test_equity_curve" time="0.001" /><testcase classname="tests.test_backtest.TestBacktestResults" name="test_return_distribution" time="0.001" /><testcase classname="tests.test_backtest.TestStrategyEvaluation" name="test_win_rate_calculation" time="0.001"><failure message="assert 0.125 &lt; 0.01&#10; +  where 0.125 = abs((0.5 - 0.625))">self = &lt;tests.test_backtest.TestStrategyEvaluation object at 0x00000140F0E78F50&gt;

    def test_win_rate_calculation(self):
        """Test win rate calculation."""
        trades = pd.DataFrame({
            'pnl': [100, -50, 75, -30, 200, -10, 150, -80]
        })
    
        winning_trades = (trades['pnl'] &gt; 0).sum()
        total_trades = len(trades)
        win_rate = winning_trades / total_trades
    
        # 5 winners out of 8
        expected_win_rate = 5 / 8
&gt;       assert abs(win_rate - expected_win_rate) &lt; 0.01
E       assert 0.125 &lt; 0.01
E        +  where 0.125 = abs((0.5 - 0.625))

tests\test_backtest.py:273: AssertionError</failure></testcase><testcase classname="tests.test_backtest.TestStrategyEvaluation" name="test_profit_factor" time="0.002" /><testcase classname="tests.test_backtest.TestStrategyEvaluation" name="test_average_trade" time="0.001" /><testcase classname="tests.test_backtest.TestBacktestValidation" name="test_no_lookahead_bias" time="0.004"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestValidation object at 0x00000140F0E7A510&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]

    def test_no_lookahead_bias(self, sample_price_data):
        """Test that backtest doesn't use future information."""
        from src.backtesting.backtest_engine import BacktestEngine
    
        # Create signals based only on past data
        signals = pd.Series(0, index=sample_price_data.index)
    
        # Signal based on past 5-day return
        past_returns = sample_price_data['Close'].pct_change(5)
        signals[past_returns &gt; 0] = 1
        signals[past_returns &lt; 0] = -1
    
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=100000,
            commission=0.001
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:318: TypeError</failure></testcase><testcase classname="tests.test_backtest.TestBacktestValidation" name="test_capital_preservation" time="0.003"><failure message="TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'">self = &lt;tests.test_backtest.TestBacktestValidation object at 0x00000140F0E7AC10&gt;
sample_price_data =                   Open        High         Low       Close   Volume
2024-01-01  101.386462  101.386462  100.347476  10...040422   94.718755  1211830
2024-09-08   96.185009   98.044986   95.534908   96.022836  6439381

[252 rows x 5 columns]

    def test_capital_preservation(self, sample_price_data):
        """Test that initial capital is preserved when no trades."""
        from src.backtesting.backtest_engine import BacktestEngine
    
        # No signals (all zeros)
        signals = pd.Series(0, index=sample_price_data.index)
    
        initial_capital = 100000
&gt;       engine = BacktestEngine(
            data=sample_price_data,
            initial_capital=initial_capital,
            commission=0.001
        )
E       TypeError: BacktestEngine.__init__() got an unexpected keyword argument 'data'

tests\test_backtest.py:336: TypeError</failure></testcase><testcase classname="tests.test_config.TestSettings" name="test_settings_import" time="0.000" /><testcase classname="tests.test_config.TestSettings" name="test_settings_instance_creation" time="0.001" /><testcase classname="tests.test_config.TestSettings" name="test_settings_get_method" time="0.001" /><testcase classname="tests.test_config.TestSettings" name="test_settings_get_from_env" time="0.003" /><testcase classname="tests.test_config.TestSettings" name="test_settings_properties_exist" time="0.001" /><testcase classname="tests.test_config.TestSettings" name="test_ibkr_defaults" time="0.001"><failure message="assert 7496 == 7497&#10; +  where 7496 = &lt;config.settings.Settings object at 0x000001409D842510&gt;.ibkr_port">self = &lt;tests.test_config.TestSettings object at 0x00000140F0F3DD50&gt;

    def test_ibkr_defaults(self):
        """Test IBKR default values."""
        from config.settings import Settings
        settings = Settings()
    
        # Should have sensible defaults
        assert settings.ibkr_host == "127.0.0.1"
&gt;       assert settings.ibkr_port == 7497  # Paper trading default
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       assert 7496 == 7497
E        +  where 7496 = &lt;config.settings.Settings object at 0x000001409D842510&gt;.ibkr_port

tests\test_config.py:73: AssertionError</failure></testcase><testcase classname="tests.test_config.TestSettings" name="test_settings_get_required_raises" time="0.001" /><testcase classname="tests.test_config.TestSettings" name="test_global_settings_instance" time="0.000" /><testcase classname="tests.test_config.TestEnvironmentConfiguration" name="test_env_file_loading" time="0.015" /><testcase classname="tests.test_config.TestEnvironmentConfiguration" name="test_missing_env_file_warning" time="0.001" /><testcase classname="tests.test_config.TestAPIKeyConfiguration" name="test_alpha_vantage_key_property" time="0.002" /><testcase classname="tests.test_config.TestAPIKeyConfiguration" name="test_openai_key_property" time="0.002" /><testcase classname="tests.test_config.TestAPIKeyConfiguration" name="test_google_api_keys" time="0.002" /><testcase classname="tests.test_config.TestAPIKeyConfiguration" name="test_ibkr_configuration" time="0.002" /><testcase classname="tests.test_config.TestAPIKeyConfiguration" name="test_optional_keys_return_none" time="0.001" /><testcase classname="tests.test_config.TestConfigurationValidation" name="test_port_conversion" time="0.002" /><testcase classname="tests.test_config.TestConfigurationValidation" name="test_default_port_type" time="0.001" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_technical_module_import" time="0.031"><failure message="ImportError: cannot import name 'TechnicalFeatures' from 'src.features.technical' (C:\Users\tom\Alpha-Loop-LLM\Alpha-Loop-LLM\src\features\technical.py)">self = &lt;tests.test_features.TestTechnicalIndicators object at 0x00000140F0FF8510&gt;

    def test_technical_module_import(self):
        """Test that technical module can be imported."""
&gt;       from src.features.technical import TechnicalIndicators

tests\test_features.py:49: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    """
    Feature Engineering Module
    
    Provides comprehensive feature generation for ML models:
    - Technical indicators (momentum, trend, volatility, volume)
    - Fundamental features (valuation ratios, growth metrics)
    - Options features (Greeks, IV analysis)
    - Alternative data features
    """
    
&gt;   from .technical import TechnicalFeatures
E   ImportError: cannot import name 'TechnicalFeatures' from 'src.features.technical' (C:\Users\tom\Alpha-Loop-LLM\Alpha-Loop-LLM\src\features\technical.py)

src\features\__init__.py:11: ImportError</failure></testcase><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_sma_calculation" time="0.004" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_ema_calculation" time="0.002" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_rsi_calculation" time="0.003" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_macd_calculation" time="0.003" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_bollinger_bands" time="0.003" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_atr_calculation" time="0.004" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_volume_ratio" time="0.003" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_price_momentum" time="0.003" /><testcase classname="tests.test_features.TestTechnicalIndicators" name="test_add_all_indicators" time="0.014" /><testcase classname="tests.test_features.TestFeatureGeneration" name="test_returns_calculation" time="0.001" /><testcase classname="tests.test_features.TestFeatureGeneration" name="test_rolling_statistics" time="0.001" /><testcase classname="tests.test_features.TestFeatureGeneration" name="test_lag_features" time="0.002" /><testcase classname="tests.test_features.TestDataValidation" name="test_valid_ohlcv_data" time="0.002" /><testcase classname="tests.test_features.TestDataValidation" name="test_missing_columns" time="0.001" /></testsuite></testsuites>